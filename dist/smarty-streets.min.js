angular.module("org.crossroads.smartyStreets.services",["ngResource","smartyStreetsConfig"]),angular.module("org.crossroads.smartyStreets.services").factory("SmartyStreetsSuggestionFactory",["$resource","$q","SmartyToken",function(a,b,c){var d=a("https://autocomplete-api.smartystreets.com/suggest",{"auth-id":c,prefix:"1600 Amphitheatre Parkway",callback:"JSON_CALLBACK"},{get:{method:"JSONP"}});return getSuggestions=function(a){var c=b.defer();return d.get({prefix:a},function(a){c.resolve(a)}),c.promise},{getSuggestions:getSuggestions}}]).factory("SmartyStreetsValidationFactory",["$resource","$q","SmartyToken",function(a,b,c){var d=a("https://api.smartystreets.com/street-address",{"auth-token":c,street:"1600 Amphitheatre Parkway",street2:"",city:"Mountain View",state:"CA",zipcode:"",candidates:"10",callback:"JSON_CALLBACK"},{get:{method:"JSONP",isArray:!0}});return doValidation=function(a){var c=b.defer();return d.get({street:a.addressLine1,street2:a.addressLine2,city:a.city,state:a.state,zipcode:a.zipCode},function(a){c.resolve(a)}),c.promise},{doValidation:doValidation}}]),angular.module("org.crossroads.smartyStreets.controllers",["org.crossroads.smartyStreets.services","mgcrea.ngStrap.typeahead"]),angular.module("org.crossroads.smartyStreets.controllers").controller("AddressFormController",["$scope","SmartyStreetsSuggestionFactory","SmartyStreetsValidationFactory",function(a,b,c){a.getAddress=function(a){return b.getSuggestions(a).then(function(a){return a.suggestions})},a.populateFields=function(){console.log(a.addressSearchResult),a.address.city=a.addressSearchResult.city,a.address.state=a.addressSearchResult.state,a.address.addressLine1=a.addressSearchResult.street_line,a.addressSearchResult=a.addressSearchResult.street_line},a.validateAddress=function(){return c.doValidation(a.address).then(function(b){a.addressSearchResult=b[0].delivery_line_1,a.address.addressLine1=b[0].delivery_line_1,a.address.city=b[0].components.city_name,a.address.state=b[0].components.state_abbreviation,a.address.zipCode=b[0].components.zipcode+"-"+b[0].components.plus4_code})},a.$watch("address.state",function(b,c){b!==c&&a.validateAddress()},!0)}]),angular.module("org.crossroads.smartyStreets.directives",["org.crossroads.smartyStreets.controllers"]),angular.module("org.crossroads.smartyStreets.directives").directive("crdsValidatedAddress",function(){return{restrict:"E",scope:{address:"="},controller:"AddressFormController",templateUrl:"/templates/address-form.tpl.html"}}),angular.module("CrossroadsUserForm",["org.crossroads.smartyStreets"]).controller("CrossroadsUserFormController",["$scope",function(a){a.form={address:{}},a.submit=function(){}}]);